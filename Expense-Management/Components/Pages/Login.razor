@page "/"

<div class="d-flex min-vh-100 align-items-center justify-content-center">
    <div class="card p-4 shadow-lg" style="min-width: 24rem;">
        <h1 class="mb-4 text-center">Sign In</h1>

        <form @onsubmit="LoginHandler">
            <div class="mb-3">
                <label for="fullname" class="form-label">Full Name:</label>
                <div class="input-group">
                   
                    <input id="fullname"
                           type="text"
                           @bind="userName"
                           placeholder="Enter your full name"
                           class="form-control" />
                    <span class="input-group-text">
                        <i class="fa-regular fa-user"></i>
                    </span>
                </div>
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Password:</label>
                <div class="input-group">
                   
                    <input id="password"
                           type="password"
                           @bind="passwordValue"
                           placeholder="Enter Password"
                           class="form-control" />
                    <span class="input-group-text">
                        <i class="fa-regular fa-eye"></i>
                    </span>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100">Sign In</button>
        </form>

        <p class="mt-3 text-center">
            Don't have an account?
            <a href="register" class="text-decoration-none">Sign Up</a>
        </p>

        @if (ShowLoginFailedAlert)
        {
                <div class="alert alert-danger mt-3" role="alert">
                    Login failed. Please try again.
                </div>
        }
    </div>
</div>

@code {
    private string? userName { get; set; }
    private string? passwordValue { get; set; }
    private bool ShowLoginFailedAlert = false;

    [Inject]
    private NavigationManager NavManager { get; set; } = default!;

    private void LoginHandler()
    {
        if (userName == "varat" && passwordValue == "1234")
        {
            NavManager.NavigateTo("/home");
        }
        else
        {
            ShowLoginFailedAlert = true;
        }
    }

    private void OkayButtonPressed()
    {
        userName = null;
        passwordValue = null;
        ShowLoginFailedAlert = false;
    }
}
